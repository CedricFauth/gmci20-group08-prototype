<!DOCTYPE html>
<html>
<head>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Study Group Finder 08</title>
		<link rel="stylesheet" href="style.css">
		<link rel="preconnect" href="https://fonts.gstatic.com">
		<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
	</head>
</head>
<body>
<div class="flex-container-vert">
	<h1>create account</h1>
	<form action="./startseite.html" method="get">
		<div>
            <input type="text" id="namediv" placeholder="name" required>
            <input type="text" id="namediv" placeholder="last name" required>    
        </div>
		<div class="flex-container-vert">
            <div><input type="text" id="emaildiv" placeholder="email" required></div>
            <div id="popup" class="popup-content desktop-5-cols phone-12-cols">
                <p id="requestResponse"> The email you entered is not valid. Please try again</p>
                <button id="closeButton">ok</button>
              </div>
            <div> <input type="text" id="namediv" placeholder="subject" required></div>
		</div>
	<div class="flex-container-horiz"> 
        <div style="margin-right: 20px"> <strong style="margin-right: 30px">choose a picture for your profile </strong>  <input onchange="loadFile(event)" type="file" id="image-button"></div>
    </div>
    <div class="flex-container-horiz">
        <input id="description" type="text" placeholder="describe yourself" style="border: 4px solid black;width: 200px;height: 200px" required>
        <img id="output" width="200" height="200" alt="your profile picture"/>
    </div>
	<div class="flex-container-horiz">
		<button onclick="saveData()" type="submit" class="button" >create</button>
    </div>
</form>
</div>
</body>
<script>
   var loadFile = function(event){
       var image = document.getElementById("output");
       image.src = URL.createObjectURL(event.target.files[0]);
       console.log(image.src);
   };
   function saveData() {
    var email = document.getElementById("emaildiv").value;
    if (!email.includes("@",0)){
        document.getElementById("popup").style.display = "flex";
    }
    localStorage.setItem("description",document.getElementById("description").value);
    var elms = document.querySelectorAll("[id='namediv']");
    for(var i = 0; i < elms.length; i++) {
        localStorage.setItem("item " + i,elms[i].value);
    }
    localStorage.setItem("profilepicture",document.getElementById("outptut").src);
   }
   var button = document.getElementById("closeButton");
     button.onclick = function close(){
        document.getElementById("popup").style.display = "none";
      };
</script>
</html>
